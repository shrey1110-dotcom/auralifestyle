import { useState } from "react";import { useLocation, useNavigate } from "react-router-dom";import api from "../utils/api";import { setAuth } from "../utils/auth";import "../admin/admin.css";export default function AdminLogin() {  const [email, setEmail] = useState("");  const [pass,  setPass]  = useState("");  const [err,   setErr]   = useState("");  const [busy,  setBusy]  = useState(false);  const nav = useNavigate();  const loc = useLocation();  async function submit(e) {    e.preventDefault();    setErr(""); setBusy(true);    try {      const { data } = await api.post("/api/auth/login", { email, password: pass });      if (data?.success !== true) throw new Error(data?.message || "Login failed");      if (data?.user?.role !== "admin") throw new Error("This account is not an admin.");      setAuth({ token: data.token, user: data.user });      const dest = loc.state?.from?.pathname || "/admin";      nav(dest, { replace: true });    } catch (e) {      setErr(e?.response?.data?.message || e.message);    } finally { setBusy(false); }  }  return (    <div className="login-wrap">      <form className="login" onSubmit={submit}>        <h1>Admin Sign in</h1>        <label>Email</label>        <input value={email} onChange={(e)=>setEmail(e.target.value)} placeholder="admin@example.com" />        <label>Password</label>        <input type="password" value={pass} onChange={(e)=>setPass(e.target.value)} placeholder="••••••••" />        {err ? <div className="error">{err}</div> : null}        <button className="btn primary" disabled={busy}>{busy ? "Signing in…" : "Sign in"}</button>      </form>    </div>  );}